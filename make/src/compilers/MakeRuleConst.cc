#include "common.h"
#include "MakeRuleConst.h"

#include "FileWriter.h"
#include "ActiveObject.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// @class:    MakeRuleConst
// @method:   constructor
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
MakeRuleConst::MakeRuleConst (const String & rule) :
  m_rule (rule)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// @class:    MakeRuleConst
// @method:   writeRule
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void
MakeRuleConst::writeRule (FileWriter & makefile, const ActiveObject & active_object, const QueueString &) const 
{
  if (m_rule[0] == '_')
  {
    makefile << active_object.getVariableValue (m_rule);
  }
  else
  {
    makefile << m_rule;
  }
}


